<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <installerconfig>
	<!-- List of dependent windows service name , it should be running on the same machines. -->
    <dependencies>
		<dependency>KleraServiceRegistryServiceLauncher</dependency>
	</dependencies>
	<!-- Name of the windows service to be given -->
    <servicename>KleraResourceHostServiceLauncher</servicename>
	<!-- Description of the windows service to be given -->
    <description>It provides hosting service for resources</description>
	<!-- Display name of the windows service to be given -->
    <displayname>Klera Resource Host Service</displayname>
	<!-- Indicates how and when the service is started. 0: Automatic, 1:Manual, 2:Disabled -->
    <starttype>0</starttype>
    <!-- Whether the service should be delayed from starting until other automatically started services are running.
	true to delay automatic start of the service; otherwise, false. -->
    <delayedautostart>false</delayedautostart>
	<!-- What to do in case of crash in the hosted Java Application. -1 - ignore, 0 - stop, 1 - restart (by default).
	  ignore : Just reports the service as stopped to the service manager whenever it fails, it has to be manually restarted.
	  restart: Restarts the hosted Java application again after it got crashed. If the hosted Java Application crashes again within 10 seconds(default), it is not restarted to avoid an infinite loop.
	-->
	<onfail>1</onfail>
   </installerconfig>
  <javaserviceconfig>
	<!-- Name of the executable to be launched -->
    <processname>%JAVA_HOME%\bin\java.exe</processname>
	<!-- Start arguments of the launched process -->
     <startcmdarguments>-Dcom.sun.management.jmxremote.port=18184 -Dlog4j.configurationFile=file:src/main/resources/log4j2.xml -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true  -Dfile.encoding="UTF-8" -XX:+UseG1GC -XX:+UseStringDeduplication -XX:+DisableExpliKleratGC -Xmx256m -XX:+ExitOnOutOfMemoryError -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=.\heapdump\  -Dcom.sun.management.jmxremote  -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -jar resourcehostlauncher.jar</startcmdarguments>
	<!-- Stop arguments of the launched process -->
	<stopcmdarguments></stopcmdarguments>
    <!--Give STOPCMDARGS -> Gracefully Stop UI Service ; KILLSIGNAL -> sending CTRL+C to the process-->
    <stopsignal>KILLSIGNAL</stopsignal>
	<!-- 0 ->Starts With, 1 -> Ends With, 2 -> Contains, 3 -> Exact -->
	<startidentificationmatchcriteria>3</startidentificationmatchcriteria>
	<!-- Start identification string that will come on console.-->
	<startidentification>*Service Started Successfully#</startidentification>
	<!-- Maximum start wait time(in milliseconds) -->
	<maxstartwaittime>180000</maxstartwaittime>
	<!-- Maximum stop wait time(in milliseconds) -->
	<maxstopwaittime>180000</maxstopwaittime>
  </javaserviceconfig>
</configuration>
